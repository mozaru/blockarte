<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Blockmarte</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="home-screen" class="screen active">
    <h1>Blockmarte</h1>
    <p>Jogo estilo pared√£o (blockout)</p>
    <p>Block + Matem√°tica + Arte = Blockmarte</p>
    <p>Divers√£o, Arte, Design, Fisica e Matematica se misturam</p>
    <div class="menu">
      <button onclick="showScreen('level-select')">Jogar</button>
      <button onclick="abrirRanking()">Ranking</button>
      <button onclick="abrirSettings()">Configura√ß√µes</button>
      <button onclick="abrirGaleria()">Galeria</button>
      <button onclick="abrirModalUsuario()">Usu√°rio</button>
      <button onclick="openModal('modal-about')">Sobre</button>
      <button onclick="openModal('modal-credits')">Cr√©ditos</button>
    </div>
    <p>Vida alien√≠gena feita de matem√°tica. <br/>Desmonte padr√µes.<br/>Descubra formas.</p>
    <!-- Inicio codigo Contador -->
  	<div style="position: fixed; bottom: 10px; left: 5px"><img height="30px" src="https://contador-gratis.com/contadores-de-visitas/280725083359821.gif"></div>
    <!-- Fim do codigo Contador -->
    </div>

  <div id="level-select" class="screen">
    <h2>Sele√ß√£o de Fases</h2>
    <div class="levels-grid" id="levels-container">
      <!-- Exemplo de 9 fases + boss -->
      <button onclick="startGame(1)">Fase 1</button>
      <button onclick="startGame(2)">Fase 2</button>
      <button onclick="startGame(3)">Fase 3</button>
      <button onclick="startGame(4)">Fase 4</button>
      <button onclick="startGame(5)">Fase 5</button>
      <button onclick="startGame(6)">Fase 6</button>
      <button onclick="startGame(7)">Fase 7</button>
      <button onclick="startGame(8)">Fase 8</button>
      <button onclick="startGame(9)">Fase 9</button>
      <button class="boss" onclick="startGame(10)">Boss Final</button>
    </div>
    

    <button onclick="showScreen('home-screen')">Voltar</button>
  </div>

<div id="game-screen" class="screen">
  <div id="game-ui-status">
    <p id="status-jogo">Fase 1</p>
    <p id="placar">Pontua√ß√£o: 0</p>
  </div>  
  <canvas id="game-canvas" width="400" height="400"></canvas>
  <div id="game-ui-btn">
    <button id="btnVoltarSelecao" onclick="voltarParaSelecao()">Voltar</button>
    <button id="btnReiniciar" onclick="reiniciar()">Reiniciar</button>
    <button id="btnPausar" onclick="pausar()">Pausar</button>
    <button id="btnAvancar" onclick="proxima()">Avancar</button>
  </div>
</div>
    
<div id="modal-about" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modal-about')">&times;</span>
    <h2>Sobre o Jogo</h2>
    <p><strong>Blockmarte</strong> √© um jogo onde matem√°tica, arte e fic√ß√£o cient√≠fica se entrela√ßam. Inspirado nos cl√°ssicos de quebra-blocos, aqui voc√™ n√£o enfrenta apenas estruturas: voc√™ interage com <strong>formas de vida matem√°ticas</strong>, originadas no ambiente alien√≠gena de Marte.
        </p>
        <p>
            Cada fase representa uma entidade viva, gerada por f√≥rmulas que aplicam conceitos como fractais, tessela√ß√µes, curvas param√©tricas e padr√µes geom√©tricos. O resultado s√£o criaturas sim√©tricas, fluidas e hipnotizantes, que parecem pulsar com vida pr√≥pria.
        </p>
        <p>
            Voc√™ n√£o destr√≥i blocos ao acaso. Voc√™ desmonta organismos marcianos, cuidadosamente projetados pela matem√°tica, em uma dan√ßa de precis√£o e estrat√©gia.
        </p>
        <p>
            <strong>Blockmarte</strong> √© mais que um jogo ‚Äî √© uma galeria viva de arte generativa, nascida de l√≥gica pura, onde cada fase √© uma obra interativa criada por equa√ß√µes.
        </p>
  </div>
</div>

<!-- MODAL: CR√âDITOS -->
<div id="modal-credits" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modal-credits')">&times;</span>
    <h2>Cr√©ditos</h2>
    <div class="credit-entry">
      <h3>Desenvolvimento</h3>
      <p>@mozarsilva</p>
    </div>
    <div class="credit-entry">
      <h3>Design Procedural</h3>
      <p>@yuruyurau</p>
    </div>
    <div class="credit-entry">
      <h3>Ferramentas</h3>
      <p>HTML, CSS, JavaScript, Canvas API</p>
    </div>
    <div class="credit-entry">
      <h3>Inspira√ß√£o</h3>
      <p>Arte generativa, fractais, vida microsc√≥pica, sci-fi retr√¥</p>
    </div>
  </div>
</div>

<!-- MODAL: SELECAO DE USUARIO -->
<div id="modal-usuario" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modal-usuario')">&times;</span>
    <h2>Selecionar Usu√°rio</h2>
    <label for="lista-usuarios">Usu√°rio atual:</label><br/>
    <select id="lista-usuarios"></select>
    <br/><br/>
    <button onclick="confirmarUsuario()">Usar Selecionado</button>
    <button onclick="openModal('modal-criar-usuario')">Criar Novo Usu√°rio</button>
  </div>
</div>

<!-- MODAL: NOVO USUARIO -->
<div id="modal-criar-usuario" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modal-criar-usuario')">&times;</span>
    <h2>Criar Novo Usu√°rio</h2>
    <input type="text" id="novo-apelido" placeholder="Apelido"><br/>
    <input type="text" id="novo-nome" placeholder="Nome"><br/>
    <input type="email" id="novo-email" placeholder="Email (opcional)"><br/><br/>
    <button onclick="salvarNovoUsuario()">Salvar</button>
    <button onclick="closeModal('modal-criar-usuario')">Cancelar</button>
  </div>
</div>

<!-- MODAL: RANKING -->
<div id="modal-ranking" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modal-ranking')">&times;</span>
    <h2>Top 20 Jogadores</h2>
      <div style="max-height: 400px; overflow-y: auto; border: 1px solid #00ffcc; border-radius: 6px;">
        <table id="tabela-ranking" style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr>
              <th>#</th>
              <th>Apelido</th>
              <th>Pontos</th>
              <th>Tempo</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    <br/>
    <button onclick="closeModal('modal-ranking')">Fechar</button>
  </div>
</div>

<!-- MODAL: SETTINGS -->
<div id="modal-settings" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modal-settings')">&times;</span>
    <h2>Configura√ß√µes</h2>

    <h3>Volume</h3>

    <div>
      <label for="vol-geral">Geral</label>
      <button onclick="toggleMute('geral')" id="mute-geral">üîä</button><br/>
      <input type="range" id="vol-geral" min="0" max="1" step="0.01" oninput="ajustarVolume('geral')"><br/>
    </div>

    <div>
      <label for="vol-trilha">Trilha</label>
      <button onclick="toggleMute('trilha')" id="mute-trilha">üîä</button><br/>
      <input type="range" id="vol-trilha" min="0" max="1" step="0.01" oninput="ajustarVolume('trilha')"><br/>
    </div>

    <div>
      <label for="vol-efeitos">Efeitos</label>
      <button onclick="toggleMute('efeitos')" id="mute-efeitos">üîä</button><br/>
      <input type="range" id="vol-efeitos" min="0" max="1" step="0.01" oninput="ajustarVolume('efeitos')"><br/>
    </div>

    <h3>Dificuldade</h3>
    <select id="nivel-dificuldade">
      <option value="easy">F√°cil</option>
      <option value="normal">Normal</option>
      <option value="hard">Dif√≠cil</option>
    </select>

    <br/><br/>
    <button onclick="salvarConfiguracoes()">Salvar</button>
  </div>
</div>

<!-- MODAL: GALERIA -->
<div id="modal-galeria" class="modal">
  <div class="modal-content" style="max-height: 70vh; overflow-y: auto;">
    <span class="close" onclick="closeModal('modal-galeria')">&times;</span>
    <h2>Galeria de Criaturas</h2>
    <div id="galeria-lista" class="galeria-lista"></div>
    <br/>
    <button onclick="closeModal('modal-galeria')">Fechar</button>
  </div>
</div>

<!-- Modal de detalhes -->
<div id="modal-detalhe-criatura" class="modal">
  <div class="modal-content" style="max-width: 800px;">
    <span class="close" onclick="closeModal('modal-detalhe-criatura')">&times;</span>
    <h2 id="detalhe-nome"></h2>
    <p id="detalhe-pontos"></p>
    <div id="detalhe-descricao"></div> <!-- Adicionado -->
    <div style="display: flex; gap: 20px; align-items: flex-start; flex-wrap: wrap;">
      <img id="detalhe-img" src="" alt="Criatura" style="max-width: 200px; width: 150px; margin: auto; border-radius: 8px;">
      <div id="detalhe-formula" style="font-family: monospace; flex: 1; min-width: 200px;text-align: left;"></div>
    </div>
    <br/>
    <button onclick="closeModal('modal-detalhe-criatura')">Fechar</button>
  </div>
</div>

<!-- MODAL: ALERTA -->
<div id="modal-alerta" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('modal-alerta')">&times;</span>
    <h2 id="alerta-titulo">Alerta</h2>
    <p id="alerta-mensagem">Algo aconteceu.</p>
    <br/>
    <button onclick="closeModal('modal-alerta')">OK</button>
  </div>
</div>



  <script src="js/settings.js"></script>
  <script src="js/audioJogo.js"></script>
  <script src="js/criatura.js"></script>
  <script src="js/main.js"></script>
  <script src="js/bola.js"></script>
  <script src="js/raquete.js"></script>
  <script src="js/input.js"></script>
  
  <script src="js/cena.js"></script>
  <script src="js/cenaCanvas.js"></script>
</body>
<!-- Controles Mobile -->
<div id="mobile-controls" style="display: none; position: fixed; bottom: 10px; width: 100%; justify-content: space-around; z-index: 10;">
  <button id="btn-left" style="width: 45%; height: 60px; font-size: 24px;">‚óÄ</button>
  <button id="btn-right" style="width: 45%; height: 60px; font-size: 24px;">‚ñ∂</button>
</div>
</html>

